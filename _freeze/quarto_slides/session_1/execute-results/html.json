{
  "hash": "1dd0bba4142c4ab7f2e4ef9b256cc4cc",
  "result": {
    "engine": "knitr",
    "markdown": "---\nformat: \n  revealjs:\n    theme: [serif, custom.scss]\n    scrollable: true\n    logo: media/chop_ri_logo.png\n    footer: Arcus Education \n    css: styles.css\n---\n\n\n\n-   Use keyboard arrow keys to\n    -   advance ( → ) and\n    -   go back ( ← )\n-   Type \"s\" to see speaker notes\n-   Type \"?\" to see other keyboard shortcuts\n\n\n\n::: {.cell}\n\n:::\n\n\n\n## A Bit About This Series {.smaller}\n\nArcus has some \"Skills Series\" (we are starting [one in SQL](https://arcus.github.io/arcus_skill_series_sql/) next week) for the entire CHOP community.\n\nWe want to transform our 5-hour \"Intro to R\" workshop into one of these.  You are our test case!\n\n::: {.columns .v-center-container}\n::: {.column width=\"50%\"}\n![](media/pre_likert_reduced.png) \n:::\n::: {.column width=\"50%\"}\n![](media/post_likert_reduced.png)\n:::\n:::\n\n::: notes\nHi everyone, before we get into introductions, I want to explain a bit about this experience.  I and my team are data scientists who educate within the Arcus program of the Research Institute.  One of the things we do are create Skills Series, which are multi-part skill building webinars.  We have one for SQL that is very successful, and I want to do the same with R.\n\nPreviously, we taught 5-hour-long intro to R sessions a couple of times a year.  This has been an effective workshop, as the graphics on the screen show.  However, these ended up being really hard for us to put on, hard to get speakers for, and hard for people to attend!  So now what we'd like to do is transform the material from our 5-hour-long \"Intro to R\" into a Skills Series.\n\nWe're not quite ready yet, because I'm not sure how much to overlap from session to session, and not sure where the seams will be.  When Divya reached out to me to ask about R education, I was very excited because this is a great opportunity.  You can get a sneak preview into the latest in R education at CHOP, and I can get a group of test subjects to practice this new modality with.\n\nThere are a few differences in how I'm going to teach this time.  In the past, we used Posit.cloud, an online RStudio website, to do our instruction, because we just didn't have time to deal with helping people install R or RStudio.  Plus, we often had non-CHOP folks attend, like some colleagues at the University of Botswana, where I've done some work, or from Penn.  This time I really want to slow down and make sure you all have the right software installed in whatever environment you use to do your work, and make this very CHOP-specific.  But even though we're only a few people in this room, I am going to use slides and treat this in some ways as if it were an online webinar with hundreds of people in attendance, because that's what it will eventually become.  So forgive me if I'm speaking a lot from speaker notes or not walking around doing classroom education in a traditional way.\n\nAlso, please do me the huge favor of giving feedback about how this course is going!  It's important!\n\n:::\n\n## About Me {.smaller}\n\n* Joy Payton (she/her)\n* Manager of Arcus Education\n* Teaching data scientist\n* Interests include capacity building in global health and the use of data for political movements and social change\n\n\n::: notes\nOK, so about me.  My name is Joy and I use she/her pronouns.  I manage a group of data science educators in the Arcus program.  The Arcus program is an initiative of the Research Institute aimed at helping researchers deliver more reproducible, reusable research projects.  If you want more information about what Arcus is, Arcus 101 is a talk my team gives twice a month, and I'll share that link with you in the email after our session today.  Also, I have taught R and Python in English and Spanish and I have a lot of interest in the use of data science as a pro-social, de-colonizing, inclusive tool for social change, and if any of that resonates with you, we should talk later.\n:::\n\n## Tech Check and Skills Benchmarking {.smaller}\n\n\n-   Do you already use R?  Not at all?  A little?  A lot?\n-   What operating system are you using?  What do you use as your web browser?\n-   Where do you use R and RStudio?  On your own computer? On Posit.cloud? The HPC/Respublica?  In an Arcus lab?  On VDIs?  Elsewhere?\n-   What are your feelings about using R?  Excitement?  Dread?  Boredom?\n-   Do you use version control like git?  Do you use CHOP's Enterprise GitHub?  Public GitHub?\n\n-   Please complete our pre-course survey if you haven't already.\n\n::: notes\n\nOK, so this first session is a bit about getting to know all of you and what this group specifically needs.  Let's go through this, and I want to have everyone answer at least one or two of these bullet points.  When you share, please tell me your name, and if you want, your pronouns.\n\nWho would like to address the first bullet point, your current use of R?\n\nOK, what about operating systems and web browsers?\n\nWhat environments do you use R or RStudio in?\n\nWhat are you feeling as you start this course?  All answers are valid!\n\nDo you use version control?  How often?\n\nOK, so what I'd like to do now is pause.  You should have all received an email at 3:00 asking you to take a survey.  Please check your CHOP email and go ahead and answer that survey.  I'll wait until we're all done.  Take your time, don't be afraid to write ample notes in the free-response sections.\n:::\n\n## Orientation to the Course {.section-break background-image=\"media/cork-board.png\" background-size=\"400px\" background-repeat=\"repeat\"}\n\n::: notes\nGreat, now that we have intros squared away, let's move ahead and learn about the scope of this course.\n:::\n\n## The Data Analysis Pipeline\n\n![](media/data_analysis_pipeline.png){.centered}\n\n::: notes\nThis workshop is a gentle introduction to data science designed for healthcare professionals and researchers who don't have a background in programming. This slide shows a high-level conceptual framework of the most important steps of the data analysis process.\n\nYou always start by importing data, which isn't always easy or simple, and cleaning or \"tidying\" it up.  This is often where you spend 80% of your time, believe it or not!  Data can be very complex and messy, and require lots of cleaning to make it useful for analysis.\n\nThen you start an iterative process of exploratory data analysis, which usually requires some data transformation.  Exploratory data analysis can be statistical, like understanding the mean and median value of a field, and it can be visual, like showing distributions of data.\n\nWe'll talk a lot about visualization here, but my plan, unless we decide otherwise as a group, is to not go into modeling in depth.\n\nFinally, you need to communicate your results, whether that's sharing recruitment data with your PI or writing up your findings for publication.\n\nWe will introduce the basics of all of these steps throughout this course, with the exception of modeling, which can be an advanced topic.  If we decide that's useful, however, we can decide to include it -- the goal of this focus group is to meet your learning needs while I get to practice giving R education.\n:::\n\n------------------------------------------------------------------------\n\n| Date       | Proposed Topics         |\n|--------------|---------------|\n| October 3  | Introduction to R/RStudio |\n| October 10 | Data Ingestion and Projects |\n| October 17  | Break (I have a conflict) |\n| October 24  | Data Visualization with ggplot2 |\n| October 31  | Transforming data with dplyr |\n| November 7   | Break (You have a conflict)  |\n| November 14 | Tidying data |\n| November 21   | Recap and next steps for growing in R |\n\n\n::: notes\nHere's our plan for the course.  We can adapt as we go and I learn more about pacing.\n:::\n\n## Lecture Slides\n\n![](media/slide_example.png){.two-thirds fig-align=\"center\"}\n\n::: notes\nIn general, we will introduce new concepts with lecture slides like this one. We try to illustrate the concepts in a way that makes it easier to learn how to write code. Importantly, you will have access to the slides and be able to look at them again after you leave this course.  These slides are built in R, using Quarto!  While we won't cover how to make slide deck presentations like this one in the course, you will learn how to use Quarto for your data analysis.\n:::\n\n## Timed Interactive Coding Exercises\n\n::: {.columns .v-center-container}\n::: {.column width=\"50%\"}\n![](media/your_turn_example.png)\n:::\n\n::: {.column width=\"50%\"}\n![](media/rstudio_example.png)\n:::\n:::\n\n::: notes\nAfter we present you with explanations, we'll then practice these new skills with timed interactive coding exercises. For the coding exercises, we set up a training environment on the web specifically for this course.\n\nPlease note that these exercises are timed. It's not essential that you finish each exercise, but it's essential that you try. When the time is up, I ask that everyone stop working. After each coding exercise, we will come back together, and I will live code the exercise to catch everyone up.\n:::\n\n## Code of Conduct {.smaller}\n\n::: columns\n::: {.column width=\"50%\"}\n![](media/no_harassment.png){.half fig-align=\"center\"}\n:::\n\n::: {.column width=\"50%\"}\n![](media/no_recordings.png){.half fig-align=\"center\"}\n:::\n:::\n\n<https://arcus.github.io/intro-to-r-for-clinicians-chop/conduct.html>\n\n::: notes\nOne more serious thing I need to point out that we want to provide a welcoming and supportive environment for all people, regardless of background,identity or role.  There's a code of conduct that I expect everyone to abide by, and while this might be more important to talk about in a bigger, online course, I still think it's worthwhile to mention.\n\nI keep a strict no-harassment policy: this includes abusive, offensive, or degrading language, in writing or in voice.\n\nWe also want people to feel that they can be themselves.  If people feel like asking questions or saying that they missed a step will mean that people will tease them later or think less of them, they don't have full freedom as learners.  So please, let's be kind to one another and also be brave with being vulnerable and being forthright when we don't understand something or are confused.\n\nFor full CoC please take a look at the link I'll include in the notes for today.\n:::\n\n## Session 1: Introduction to R/RStudio {.section-break background-image=\"media/cork-board.png\" background-size=\"400px\" background-repeat=\"repeat\"}\n\n\n::: notes\nGood afternoon, everyone!  In this session we're going to cover an introduction to R, RStudio (aka Posit), and R Markdown / Quarto.\n:::\n\n## Goals for Today {.smaller}\n\n  * Considerations for working with R at CHOP\n  * What you need for the course\n  * R and RStudio\n  * R Markdown and literate statistical programming\n  * Learning to learn data science\n\n## Considerations for Working with R at CHOP {.smaller}\n\n* We work with regulated data\n* IRB protocols and other regulations might override what I say here!\n* You can work with R/RStudio on a CHOP device\n  - You might be able to install them yourself (I can, but I have admin rights)\n  - You will probably have to request an install via a [service ticket](https://chop.service-now.com/esc?id=sc_cat_item&sys_id=fbf31958db4efe00de9e782bbf96192c)\n\n## Researchers ONLY at CHOP {.smaller}\n\n(You'll need a cost center to refer to for most of these)\n  \n* If you work with the [High Performance Compute cluster](https://www.research.chop.edu/services/respublica-access-request) (HPC or Respublica), you can request an RStudio session by logging in to [Interactive Apps](https://respublica-web2.research.chop.edu/pun/sys/dashboard/batch_connect/sessions) and choosing RStudio.\n* You can [request a VDI](https://www.research.chop.edu/services/beyondchopedu-access) that includes RStudio.\n* You can [request an Arcus lab](https://support.arcus.chop.edu/servicedesk/customer/portal/6/create/307) for a research project, which includes RStudio.\n\n## Possible, but not advised {.smaller}\n\nYou can use R and RStudio using online services like [https://posit.cloud](https://posit.cloud).  These can be great for learning or practice with public datasets, BUT they are not a safe or compliant place to put your regulated data.\n\n## What you need for the course {.smaller}\n\nWhat you MUST have:\n\n* An environment with R and RStudio \n\n## What you need for the course {.smaller}\n\nWhat I recommend you install / [get installed](https://chop.service-now.com/esc?id=sc_cat_item&sys_id=fbf31958db4efe00de9e782bbf96192c) on your own CHOP device:\n\n* [R](https://lib.stat.cmu.edu/R/CRAN/) -- the language we use to clean, analyze, and visualize data \n* [RStudio Desktop](https://posit.co/download/rstudio-desktop/) -- an IDE for writing R \n* [Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git) -- version control software that will allow you to easily get the latest version of our course materials and will also be helpful for tracking changes in your own projects\n* [GitHub Desktop](https://docs.github.com/en/desktop/installing-and-authenticating-to-github-desktop/installing-github-desktop) -- a helper, or \"client\" software that makes working with Git easier\n\nEven though all of these software are free, you'll need a Cost Center (or grant fund) to add to your request. \n\n::: notes\nEven though all of these software are free, you'll need a Cost Center (or grant fund) to add to your request.  Get that from your manager, administrative staff, or other leadership within your area.  There will be no charge, but DTS uses this information for tracking resource utilization.\n:::\n\n------------------------------------------------------------------------\n\n::: {.columns .v-center-container}\n::: {.column .small-text width=\"33%\"}\n![](media/r_logo.png){.two-thirds}\n\n\n\n:::\n\n::: {.column .small-text width=\"33%\"}\n![](media/rstudio_logo.png){.half}\n\n:::\n\n::: {.column .small-text width=\"33%\"}\n![](media/quarto.png)\n\n:::\n:::\n\n\n::: {.columns .v-center-container}\n::: {.column .small-text width=\"33%\"}\n**R** Programming language for data analysis\n:::\n\n::: {.column .small-text width=\"33%\"}\n**RStudio** Integrated development environment (IDE)\n:::\n\n::: {.column .small-text width=\"33%\"}\n**Quarto** Computational document format\n:::\n:::\n\n\n::: notes\nI'm sure you all are excited to get started programming and we will do that in the next session.\n\nBefore we do that I want to introduce you to 3 terms that may or may not be new to you.\n\nThe first is **R**. R is a statistical programming language that's great for doing data analysis. There are a lot of features that make R great:\n\n-   R is **open source**, which means that it is \"free\" in two ways -- in the meaning of having **no cost** and also in that can be used widely **without intellectual property concerns or licensing restrictions**.\n-   R makes it possible to **wrangle** (arrange, reshape, and organize) complex data sets, and\n-   R can produce publication-quality statistical analysis and visualizations.\n\nThere is also an open and welcoming community of R users, which is just as important, if not more important, as the actual underlying details of the language.\n\nThen, there's **RStudio**. RStudio was the original name of a company as well as the name of a piece of software the company makes (and makes available in both free and paid versions). A year ago, the company [changed its name from RStudio to Posit](https://www.rstudio.com/blog/rstudio-is-becoming-posit), but you'll still hear people call the company by its old name.\n\nYou can think of RStudio (the software) as a fancy text editor for writing R code. The technical term for a fancy text editor for writing code is \"Integrated Development Environment\", or IDE (you pronounce each letter, eye-dee-ee). You can run RStudio on Mac, Windows, or Linux. It can run on a local computer like your laptop, or on a server that is accessed using a web browser.\n\nFinally there's **R Markdown**, which many people still use, and Quarto, which is an evolution of R Markdown. Quarto is a computational document format that has executable code. Quarto also includes capabilities for annotating your work which is incredibly handy and supports multiple programming languages for mixing and matching code.\n\nR Markdown or Quarto are used to create a **computational document**, an example of [**literate programming**](https://education.arcus.chop.edu/literate-statistical-programming/). A computational document is a document that has executable code inside of it, and as we'll discuss shortly, it's a great way to perform data analysis in a reproducible fashion. You'll also hear this called \"literate programming\" or \"literate statistical programming\", because a Quarto document contains both human language (it's literate) as well as computer code (programming).\n\nWith Quarto, we will usually write that executable code using the R language. However, it's actually possible to write code in Python, C++, SQL, and other languages as well. That goes beyond the scope of this workshop, but it's helpful to remember that Quarto is quite flexible.\n\nSo we have R, Rstudio, and Quarto. For the remainder of this course, I'll show you how these tools come together to form the infrastructure for performing state of the art data analysis.\n\n30:00\n:::\n\n## Getting Started With RStudio {.section-break background-image=\"media/cork-board.png\" background-size=\"400px\" background-repeat=\"repeat\"}\n\n::: notes\nLet's look at RStudio first.\n:::\n\n## RStudio: On the Web and on Your Desktop\n\n::: columns\n::: {.column .small-text width=\"33%\"}\n![](media/posit_cloud_logo.png){.two-thirds}\n![](media/rstudio_cloud.png){.two-thirds}\n\n:::\n\n::: {.column .small-text width=\"33%\"}\n![](media/posit_workbench_logo.png){.two-thirds}\n![](media/rstudio_cloud.png){.two-thirds}\n:::\n\n::: {.column .small-text width=\"33%\"}\n![](media/rstudio_desktop.png) \n\n:::\n:::\n::: columns\n::: {.column .small-text width=\"33%\"}\n**Posit.cloud**\n\nHosted by Posit (in the cloud)\n:::\n\n::: {.column .small-text width=\"33%\"}\n**Posit Workbench**\n\nHosted by you, your company, your university, on prem or in the cloud\n:::\n\n::: {.column .small-text width=\"33%\"}\n**RStudio Desktop**\n\nInstalled on your computer\n:::\n:::\n\n::: notes\nAs I just mentioned, there are several versions of RStudio:\n\n**Posit.Cloud** -- a version of the RStudio IDE, also now known as Posit, that can be accessed from a web browser. It's hosted on a server by Posit, the company that makes this software.\n\n**Posit Workbench** -- a version of the RStudio IDE, also now known as Posit, that can be accessed from a web browser. It's hosted on a server that could be on premises or in the cloud.  \n\n**RStudio Desktop** -- a version of the RStudio IDE that is installed on a personal device like your desktop or laptop. This is what you may want to use after the course to continue learning R and working on R projects. \n\nIt's important to note that regardless of which version of RStudio that you use, you will be accessing the same general product -- there's no functionality in RStudio Server that you can't get in RStudio Desktop, or vice versa.\n:::\n\n------------------------------------------------------------------------\n\n## Your Turn #1 {.smaller}\n\n::: columns\n::: {.column .small-text width=\"50%\"}\n* Either start up your RStudio, or\n\n* If you don't have R and RStudio installed yet, you can create a free account at [https://posit.cloud](https://posit.cloud) and start a new project.\n:::\n::: {.column .small-text width=\"50%\"}\n![](media/posit_new_project.png){.two-thirds}\n:::\n:::\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_c6188423\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">03</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n\n::: notes\nNow it’s your turn to either start your own RStudio or get logged into Posit.cloud .\n\n\n:::\n\n\n------------------------------------------------------------------------\n\n\n![](media/rstudio_panes.png)\n\n::: notes\nOn the top left is the **Editor**. This is where you edit your files with code in them.  You might not see this pane just yet!\n\nOn the bottom left is the **Console**. The console allows you to quickly run an individual R command that you don't need to record for reuse later, for example, installing a package. We won't use the console as much in this course.  \n\nOn the top right is the **Environment** tab set. The environment (first and most frequently used tab in the set of tabs in this pane) allows you to look at the data that's loaded into R's memory. Interacting with data in the environment tab can be a little bit like working in Excel, and we'll look at that in an upcoming exercise.\n\nFinally, on the bottom right is where you find your **Files** and related tabs. We'll be using Quarto files for coding exercises.\n:::\n\n## Reproducible Data Analysis and R Markdown {.section-break background-image=\"media/cork-board.png\" background-size=\"400px\" background-repeat=\"repeat\"}\n\n::: notes\nNow that you know a bit more about the vocabulary and computing environment we'll be using, we want to contextualize **why** you might want to use R, RStudio, and R Markdown, even though you may have worked with data before in other software.\n\nOne of the most important reasons to learn R is to improve the **reproducibility** of your research. One of the most powerful aspects of working in the R environment is that it makes it straightforward to produce **reproducible data analyses**, which will reduce risk and make \"future you\" much happier.\n:::\n\n## The Duke Cancer Scandal\n\n::: columns\n::: {.column .small-text width=\"50%\"}\n-   Chemo sensitivity from microarrays\n-   Serious errors in data analysis\n-   Clinical trials based on flawed models\n-   Papers retracted, lawsuits settled\n:::\n\n::: {.column width=\"50%\"}\n![](media/duke_journals.png){.two-thirds}\n:::\n:::\n\n::: notes\nConsider the following case study, which highlights potential consequences of **irreproducibile** research.\n\nIn the mid-2000s, researchers at Duke University tried to use microarray gene expression data of tumor cells to predict sensitivity to chemotherapeutic agents. This approach generated a lot of excitement at the time, and the resulting work was published in high-profile journals.\n\nUnfortunately, there were a number of **serious errors** in the data analysis.\n\nEven more unfortunately, patients were enrolled in clinical trials and allocated based on **flawed models**. It's likely that some patients were actually treated with the chemo they are **least likely** to respond to rather than the chemo that's **most likely** to work.\n\nIn the end, 18 papers were retracted, and Duke settled more than 10 lawsuits for an undisclosed amount of money.\n:::\n\n------------------------------------------------------------------------\n\n::: columns\n::: {.column width=\"45%\"}\n**Duke**\n\n    \"1881_at\"\n\n    \"31321_at\"\n\n    \"31725_s_at\"\n\n    \"32307_r_at\"\n:::\n\n::: {.column width=\"45%\"}\n**MD Anderson**\n\n    \"1882_g_at\"\n\n    \"31322_at\"\n\n    \"31726_at\"\n\n    \"32308_r_at\"\n:::\n:::\n\nDo you see the off-by-one indexing error?\n\n::: notes\nTwo biostatisticians at MD Anderson uncovered these mistakes in painstaking work. Let's look at one of the errors they found.\n\nWhat you see on the left are the names of are a few of the hundreds of microarray probe sets -- each roughly corresponds to a gene -- that the Duke investigators reported to predict sensitivity to 5-fluorouracil.\n\nAnd on the right are the probe sets that the MD Anderson team got. You can see that they're not the same.\n\nCan you see what went wrong?\n\nIf you look at the values long enough, you might notice a pattern: the number of the probe set that Duke reported is always one less than the number of the probe that MD Anderson found when they re-did the analysis.\n\nThis is what's called an **off-by-one indexing error**. This happens when you use a tool like Excel and accidentally miss one row; or you have one dataset that has a header and another one that doesn't. The result is that all the values in the affected column are shifted by one. This is a simple error to make, but it completely invalidates all downstream results.\n:::\n\n## \"Common problems are simple...\n\n::: small-text\nOff-by-one **indexing** error\n\nSensitive / resistant **label reversal**\n\n**Confounding** in experimental design\n\nInclusion of data from **non-reported sources**\n\n**Wrong figure** shown\n:::\n\n... and simple problems are common.\"\n\n::: notes\nThe off-by-one indexing error was just one of many simple errors the MD Anderson team discovered.\n\nAnother type of error that was pervasive in the study was label reversal; cell lines were labeled sensitive to a drug when they actually were resistant, and vice versa. That type of error can lead to a scenario where a patient gets the chemotherapy that would be predicted to be least beneficial.\n\nOther problems they identified were confounding, inclusion of data from sources that were not reported in the paper, and wrong figure shown.\n\nThese are all simple errors -- people who make them aren't necessarily incompetent or negligent.\n\nBecause these errors are so easy to make and because without good documentation or a reproducible workflow it's hard to catch them, they are also very common.\n:::\n\n## Point-and-Click...\n\n... is not reproducible!\n\n![](media/excel_logo.png){.one-third fig-align=\"center\"}\n\n::: notes\nA key issue in this case study is that the Duke investigators used \"point and click\" tools like Excel.\n\nThis prevented peers and independent investigators from catching errors in the analysis, until it was too late.\n\nUnfortunately, the Duke case study is only one example where the barrier to reproducibility was that people used graphical user interface \"point-and-click\" type tools for analyzing large and complicated sets of data. Excel doesn't record user actions and because of this, is fundamentally not reproducible.\n:::\n\n## Why Bother With Reproducibility? {.smaller}\n\n-   Can we redo the analysis with this month's data?\n-   Why do the data in Table 1 not seem to agree with Figure 2?\n-   Why did I decide to omit these six samples from my analysis?\n\nYour closest collaborator is **you** from 6 months ago...\n\n::: notes\nReproducibility doesn't only help people **outside** a study understand how things were done. They also help the initial conduct of research as well. Consider the following 3 statements and ask yourself if they sound familiar.\n\n-   Can we redo the analysis with this month's data?\n-   Why do the data in Table 1 not seem to agree with Figure 2?\n-   Why did I decide to omit these six samples from my analysis?\n\n**Your closest collaborator is you from 6 months ago...**\n\n... but they don't answer your emails!\n\nIf you use data cleaning and data analysis scripts in R, scripts that record each step you do in code, it can be much easier to retrace your steps or rerun your entire analysis with just a couple of clicks to re-run the script. You could, for example, have a script that goes and gets the latest data directly from REDCap, removes any outliers according to pre-established rules, does some statistical tests on two groups, creates a table and data visualization, and saves all of that in a .pdf that is already formatted with the special rules of the journal you want to submit to.  You could keep collecting data via REDCap and simply re-run that script with a single click and get an updated report.  This will make your life easier in the long run, even though it means an up-front investment of writing code.\n\nAdditionally, we've already seen how irreproducibility can cause real harm to human subjects, something we all want to avoid.\n:::\n\n------------------------------------------------------------------------\n\n\n\n![](media/quarto.png){.half fig-align=\"center\"}\n\n::: notes\nNow that I have convinced you (I hope) that reproducibility is important, how do you undertake a reproducible analysis using the R language? One answer to this is **Quarto**, and another is the still very useful **R Markdown**.\n\nQuarto and R Markdown allow you to write computer code mixed in with English (or other human language) narrative annotation that documents the purpose of the code and details about the decisions you made in your analysis.\n\nQuarto, like R Markdown before it, is quickly becoming the standard for reproducible data analysis. A primary aim of this workshop is to teach you to use Quarto and to encourage you to start working it into your day to day data workflows.\n:::\n\n## Anatomy of a Quarto Document\n\n![](media/quarto_anatomy.png){fig-align=\"center\"}\n\n::: notes\nQuarto documents are composed of 3 basic types of building blocks.\n\nThe first is the **header** which includes information about the document, such as its title, author, and the desired output format when the document is rendered. A lot of this information is optional so a header can be pretty short, like the one we see here, or much longer.\n\nThe second type of building block is **text**. Text can include special kinds of marks (Markdown) that add styling. This includes hash marks that turn a line of text into a header, asterisks that can create italics, lines of dashes that turn into horizontal lines, and more.  Markdown is used everywhere in tech, not just in R Markdown or Quarto.  Markdown is useful to learn if you're going to use GitHub, or Python, or LaTex, or just about anything in the tech world where you're expected to write some sort of documentation.\n\nThe third is **code chunks**. Code chunks contain R code that can be executed to output results.\n:::\n\n## Running a Single Code Chunk {.smaller}\n\n![](media/quarto_run_chunk.png){.two-thirds fig-align=\"center\"}\n\nCan you see the green \"play\" button?\n\nThat's how you run this chunk!\n\n::: notes\nSo how do you execute the code in the code chunks? There are a couple of ways.\n\nThe first is to run the code in a single code chunk. And you do this by clicking the green right-pointing triangle on the top right of the chunk. This symbol looks like a \"play\" button. There are other symbols, too, including one that means \"run all the code chunks that came before this one\".\n:::\n\n## Rendering {.smaller}\n\nYou will see (\"Knit\"/\"Preview\" instead of \"Render\" in R Markdown documents)\n\n::: columns\n::: {.column .small-text width=\"62%\"}\n![](media/pre_render_quarto.png){.bordered}\n:::\n\n::: {.column .small-text width=\"32%\"}\n![](media/post_render_quarto.png){.bordered}\n:::\n:::\n\n::: notes\nThe second way to execute code is to convert the entire Quarto document into HTML (or another target format). For now we'll stick to HTML because it's the default and usually what you want. This process of converting Quarto into a target format is called \"rendering\".\n\nTo render a document, click the button that says \"Render\". Then in a few moments, a rendered document will be shown.\n\nIf you are working in R Markdown, like R Notebooks, you'll see the word \"Preview\" or \"Knit\" instead. That also acts to render the Markdown.\n:::\n\n------------------------------------------------------------------------\n\n::: columns\n::: {.column .small-text width=\"60%\"}\n![](media/pre_render_detail.png){.bordered}\n:::\n\n::: {.column .small-text width=\"40%\"}\n![](media/post_render_detail.png){.bordered}\n:::\n:::\n\n::: notes\nLet's look at this Quarto document in a little more detail. On the slide you see the Quarto document and the resulting output in HTML that was created when this document was rendered.\n\nI'd like to explain what each part of the markdown includes in a bit more detail.\n\nAgain, the first block is the **header** section. The line that starts with `title:` tells R Markdown that the title should be \"My Markdown Document\". The line starting with `format:` communicates that when the document is rendered, we want to output to be an html document. \n\nIn the resulting HTML document there's the title \"My Markdown Document\" in large type letters. The header is enclosed on both sides with three dashes, and the data inside is in a format called \"YAML\" (spelled YAML, rhymes with Hammill). YAML, according to most people, stands for \"Yet Another Markup Language\", and it consists of a named field, a colon, and the value for that field.\n\nHere we also have some narrative **text** with marks such as hash marks and asterisks. Having a hash mark at the beginning of a line makes that line a header, and the more hash marks you write, the smaller the header. Depending on where you write it, asterisks serve different functions. If you use just one asterisk at the start of a line, it makes an item in a bulleted list. If you surround text on both sides by either one or two asterisks, the text renders as either italicized or bolded, respectively. This system of using special marks to indicate how text should look is called **Markdown**.\n\nThen we get to the code chunks. Don't worry about the contents of the code for now - in brief, the first code chunk asks R to generate 100 random values and then print out some summary statistics. The knitted document shows us our code in a gray box to make it visually distinct from the text; and then immediately after, the results of that code after it was executed. Code chunks are enclosed by three \"backticks\" (not single quotes), and the letter \"r\" enclosed in curly braces. Check out your keyboard now to see if you can find the backtick. It's likely in a corner of your keyboard, and in many layouts it travels alongside the tilde, or squiggle, symbol. The letter \"r\" enclosed in curly braces tells RStudio what language is being used, in our case, the R language.\n\nThe second code chunk demonstrates that (1) in addition to text output, you can also make R create graphical plots, and (2) you can tweak the behavior of a code chunk -- note that this code chunk has an option of echo as FALSE. This tells R that you don't want it to repeat, or \"echo\", the code in the rendered document. Notice that while the code itself is suppressed in the rendered output document, the results of the code (that is, the graph), does appear.\n\nNow let's practice creating a Quarto document, running a code chunk, and knitting.\n:::\n\n## Your Turn #2 {.smaller background-color=\"#e3faf1\"}\n\nGo to File \\> New File \\> R Markdown Document. Click OK.\n\n* This will give you a handy template which is used to show you a working example of a simple R Markdown document. You will be asked to provide a title and author, and you can choose any values you like, such as \"Test\" or \"My First Markdown\".\n* You can choose \"Source\" or \"Visual\" at the top of the edit pane.  Try them both.  What's the difference?\n* Run each code chunk by clicking the green \"play\" button (![](media/play.png){.inline-image height=\"1em\"}). Note what happens.\n* Knit (aka \"render\") the document. Type \"test\" and click Save to save the HTML file. Inspect the HTML document.  You might get a pop-up blocker, and if you do, just try again.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountdown(minutes = 3, seconds = 0)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_5982556a\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">03</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n\n::: notes\nIt's your turn again.\n\nFollow the instructions in Your Turn #2 to:\n\n* create a new R Markdown document\n* run all of the code chunks, and \n* render the document\n\nWhen you start the document, it will ask you to fill in some information like a title, and you can add what you like.\n\nWhen you render the document, it will ask you for a filename to save to -- just enter \"test\" as the filename, or whatever you'd like.\n\nWe will meet back in 3 minutes to review this exercise together.\n\n\n**Live Coding Section** (Switch to Posit and do the exercise)\n\nA few things to note as I go through this: the header starts with 3 dashes and ends with 3 dashes.\n\nI want to point out that each code chunk starts with 3 backticks and \"r\" in curly braces, and ends with 3 backticks. RStudio helps your recognize code chunks because it makes code chunks have a gray background.\n\nNote that we saved test.Rmd (R Markdown file) and test.html (knitted HTML file). You might wonder why you want to deal with two files. Rmd is source code document. It contains code, and to be able to use it, you need to have R installed. The Rmd file makes things reproducible and it's great to share with another data analyst or a journal. The HTML is a presentation file that you can show in any web browser. It doesn't require the user to have R installed, and it's not for running code, it's for showing your work. This is the kind of file you might share with your boss or other stakeholders who don't want to work in R or RStudio but are curious about what you did.\n\nCan anyone tell me why is the gray code box missing in the rendered document? That's right, there's an echo=FALSE, which means \"hey, please don't show this code in the final document.\" \"Echo\" here means \"print what we typed\". Sometimes showing your code is helpful, but sometimes it can be distracting, especially if you're using Quarto to create a report that just shows results, for example, to show your PI some information about recruitment goals. If your stakeholders don't want to see the code, but just the result of the code, use \"echo = FALSE\".\n:::\n\n## Homework {.smaller}\n\n* Install / [get installed](https://chop.service-now.com/esc?id=sc_cat_item&sys_id=fbf31958db4efe00de9e782bbf96192c): [R](https://lib.stat.cmu.edu/R/CRAN/), [RStudio Desktop](https://posit.co/download/rstudio-desktop/), [Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git), and [GitHub Desktop](https://docs.github.com/en/desktop/installing-and-authenticating-to-github-desktop/installing-github-desktop) \n\nOptional additional learning:\n\n| Module       | Description       | Duration |\n|--------------|---------------|----|\n| [Learning to Learn Data Science](https://liascript.github.io/course/?https://raw.githubusercontent.com/arcus/education_modules/main/learning_to_learn/learning_to_learn.md#1) | Discover how learning data science is different than learning other subjects.| 20 mins |\n| [Reproducibility, Generalizability, and Reuse](https://liascript.github.io/course/?https://raw.githubusercontent.com/arcus/education_modules/main/reproducibility/reproducibility.md#1) | This module provides learners with an approachable introduction to the concepts and impact of research reproducibility, generalizability, and data reuse, and how technical approaches can help make these goals more attainable. | 60 min |\n\n\n\n## Next Session\n\nData Ingestion and Projects\n\n  * Projects in RStudio\n  * Packages and Functions\n  * Tabular data ingestion from files\n  * File system considerations\n  * Data visualization preview\n  \n::: notes\nTopics we'll talk about next time:\n\n\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}